(()=>{"use strict";var e,t={369:()=>{const e=window.wp.i18n,t=window.wp.htmlEntities,o=window.wp.blocks,s=window.wp.blockEditor,l=window.wp.components,i=window.wp.coreData,r=window.wp.data,a=JSON.parse('{"UU":"child/popular-posts"}'),d=window.ReactJSXRuntime,c={TITLE:(0,e.__)("Some Favorites To Get You Started","child"),EMOJI:"âœ¨",EMPTY_POST_ID:0},n={selectorRow:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"10px"},removeButton:e=>({marginTop:e?"0":"20px"}),addButton:{marginTop:"10px"}},p=({title:t,emoji:o,selectedPosts:i,allPosts:r,onUpdatePost:a,onRemovePost:c,onAddPost:n,setAttributes:p})=>(0,d.jsx)(s.InspectorControls,{children:(0,d.jsxs)(l.PanelBody,{title:(0,e.__)("Popular Posts Settings","child"),children:[(0,d.jsx)(l.TextControl,{label:(0,e.__)("Title","child"),value:t,onChange:e=>p({title:e})}),(0,d.jsx)(l.TextControl,{label:(0,e.__)("Emoji","child"),value:o,onChange:e=>p({emoji:e})}),(0,d.jsx)(h,{selectedPosts:i,allPosts:r,onUpdatePost:a,onRemovePost:c,onAddPost:n})]})}),h=({selectedPosts:o,allPosts:s,onUpdatePost:i,onRemovePost:r,onAddPost:a})=>(0,d.jsxs)("div",{className:"child-post-selector",children:[o.map((o,a)=>(0,d.jsxs)("div",{className:"child-post-selector__row",style:n.selectorRow,children:[(0,d.jsx)(l.ComboboxControl,{label:(0,e.__)("Select or Search Post","child"),value:o.toString(),options:s.map(e=>({label:(0,t.decodeEntities)(e.title.rendered),value:e.id.toString()})),onChange:e=>i(e,a),allowReset:!1,placeholder:(0,e.__)("Search for a post...","child"),__experimentalShowSelectedSuggestion:!0}),a>0&&(0,d.jsx)(l.Button,{onClick:()=>r(a),style:n.removeButton(0===a),isSmall:!0,isDestructive:!0,icon:"trash",label:(0,e.__)("Remove this post","child"),tooltipPosition:"top"})]},a)),(0,d.jsxs)(l.Button,{onClick:a,variant:"secondary",className:"child-post-selector__add",style:n.addButton,isSmall:!0,children:["+ ",(0,e.__)("Add another post","child")]})]}),_=({title:o,emoji:l,posts:i})=>{const r=(0,s.useBlockProps)({className:"wp-block-child-popular-posts"});return(0,d.jsx)("div",{...r,children:(0,d.jsxs)("div",{className:"child-popular-card",children:[(0,d.jsxs)("div",{className:"child-popular-card__header",children:[(0,d.jsx)("div",{className:"child-popular-card__emoji","aria-hidden":"true",children:l}),(0,d.jsx)("h3",{className:"child-popular-card__title",children:o})]}),(0,d.jsx)("ul",{className:"child-popular-card__list",children:i?.length?i.map(e=>(0,d.jsx)("li",{className:"child-popular-card__item",children:(0,d.jsx)("a",{href:"#",onClick:e=>e.preventDefault(),className:"child-popular-card__link",children:(0,t.decodeEntities)(e.title.rendered)})},e.id)):(0,d.jsx)("li",{className:"child-popular-card__item",children:(0,d.jsx)("span",{className:"child-popular-card__link child-popular-card__link--placeholder",children:(0,e.__)("Please select some posts","child")})})})]})})};(0,o.registerBlockType)(a.UU,{edit:function({attributes:e,setAttributes:t}){const{selectedPosts:o=[c.EMPTY_POST_ID],title:s=c.TITLE,emoji:l=c.EMOJI}=e;e.selectedPosts?.length||t({selectedPosts:[c.EMPTY_POST_ID]});const{posts:a,allPosts:n}=(e=>(0,r.useSelect)(t=>{const{getEntityRecords:o}=t(i.store);return{posts:e.length?o("postType","post",{include:e,per_page:-1}):[],allPosts:o("postType","post",{per_page:-1,orderby:"title",order:"asc"})||[]}},[e]))(o.filter(e=>e!==c.EMPTY_POST_ID)),{addNewPostSelector:h,removePostSelector:u,updatePostSelection:m}=((e,t)=>({addNewPostSelector:()=>{t({selectedPosts:[...e,c.EMPTY_POST_ID]})},removePostSelector:o=>{const s=[...e];s.splice(o,1),t({selectedPosts:s})},updatePostSelection:(o,s)=>{const l=[...e];l[s]=o?parseInt(o):c.EMPTY_POST_ID,t({selectedPosts:l})}}))(o,t),P=n?o.map(e=>n.find(t=>t.id===e)).filter(Boolean):[];return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(p,{title:s,emoji:l,selectedPosts:o,allPosts:n,onUpdatePost:m,onRemovePost:u,onAddPost:h,setAttributes:t}),(0,d.jsx)(_,{title:s,emoji:l,posts:P})]})},save:()=>null})}},o={};function s(e){var l=o[e];if(void 0!==l)return l.exports;var i=o[e]={exports:{}};return t[e](i,i.exports,s),i.exports}s.m=t,e=[],s.O=(t,o,l,i)=>{if(!o){var r=1/0;for(n=0;n<e.length;n++){for(var[o,l,i]=e[n],a=!0,d=0;d<o.length;d++)(!1&i||r>=i)&&Object.keys(s.O).every(e=>s.O[e](o[d]))?o.splice(d--,1):(a=!1,i<r&&(r=i));if(a){e.splice(n--,1);var c=l();void 0!==c&&(t=c)}}return t}i=i||0;for(var n=e.length;n>0&&e[n-1][2]>i;n--)e[n]=e[n-1];e[n]=[o,l,i]},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={641:0,709:0};s.O.j=t=>0===e[t];var t=(t,o)=>{var l,i,[r,a,d]=o,c=0;if(r.some(t=>0!==e[t])){for(l in a)s.o(a,l)&&(s.m[l]=a[l]);if(d)var n=d(s)}for(t&&t(o);c<r.length;c++)i=r[c],s.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return s.O(n)},o=globalThis.webpackChunktwentytwentyfive_child_blocks=globalThis.webpackChunktwentytwentyfive_child_blocks||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var l=s.O(void 0,[709],()=>s(369));l=s.O(l)})();