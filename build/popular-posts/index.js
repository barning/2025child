(()=>{"use strict";var e,t={461:()=>{const e=window.wp.i18n,t=window.wp.blocks,s=window.wp.blockEditor,o=window.wp.components,l=window.wp.coreData,i=window.wp.data,r=JSON.parse('{"UU":"child/popular-posts"}'),a=window.ReactJSXRuntime,d={TITLE:(0,e.__)("Some Favorites To Get You Started","child"),EMOJI:"✨",EMPTY_POST_ID:0},c={selectorRow:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"10px"},removeButton:e=>({marginTop:e?"0":"20px"}),addButton:{marginTop:"10px"}},n=({title:t,emoji:l,selectedPosts:i,allPosts:r,onUpdatePost:d,onRemovePost:c,onAddPost:n,setAttributes:h})=>(0,a.jsx)(s.InspectorControls,{children:(0,a.jsxs)(o.PanelBody,{title:(0,e.__)("Popular Posts Settings","child"),children:[(0,a.jsx)(o.TextControl,{label:(0,e.__)("Title","child"),value:t,onChange:e=>h({title:e})}),(0,a.jsx)(o.TextControl,{label:(0,e.__)("Emoji","child"),value:l,onChange:e=>h({emoji:e})}),(0,a.jsx)(p,{selectedPosts:i,allPosts:r,onUpdatePost:d,onRemovePost:c,onAddPost:n})]})}),p=({selectedPosts:t,allPosts:s,onUpdatePost:l,onRemovePost:i,onAddPost:r})=>(0,a.jsxs)("div",{className:"child-post-selector",children:[t.map((r,d)=>(0,a.jsxs)("div",{className:"child-post-selector__row",style:c.selectorRow,children:[(0,a.jsx)(o.SelectControl,{label:0===d?(0,e.__)("Select Post","child"):"",value:r||"",options:[{label:(0,e.__)("Choose a post...","child"),value:"0"},...s.filter(e=>!t.includes(e.id)||e.id===r).map(e=>({label:e.title.rendered,value:e.id.toString()}))],onChange:e=>l(e,d)}),d>0&&(0,a.jsx)(o.Button,{onClick:()=>i(d),style:c.removeButton(0===d),isSmall:!0,isDestructive:!0,children:"×"})]},d)),(0,a.jsxs)(o.Button,{onClick:r,variant:"secondary",className:"child-post-selector__add",style:c.addButton,isSmall:!0,children:["+ ",(0,e.__)("Add another post","child")]})]}),h=({title:t,emoji:o,posts:l})=>(0,a.jsxs)("div",{...(0,s.useBlockProps)({className:"child-popular-card"}),children:[(0,a.jsxs)("div",{className:"child-popular-card__header",children:[(0,a.jsx)("div",{className:"child-popular-card__emoji","aria-hidden":"true",children:o}),(0,a.jsx)("h3",{className:"child-popular-card__title",children:t})]}),(0,a.jsx)("ol",{className:"child-popular-card__list",children:l?.length?l.map(e=>(0,a.jsx)("li",{className:"child-popular-card__item",children:(0,a.jsx)("span",{className:"child-popular-card__link",children:wp_strip_all_tags(e.title.rendered)})},e.id)):(0,a.jsx)("li",{className:"child-popular-card__item",children:(0,a.jsx)("span",{className:"child-popular-card__link",children:(0,e.__)("Please select some posts","child")})})})]});(0,t.registerBlockType)(r.UU,{edit:function({attributes:e,setAttributes:t}){const{selectedPosts:s=[d.EMPTY_POST_ID],title:o=d.TITLE,emoji:r=d.EMOJI}=e;e.selectedPosts?.length||t({selectedPosts:[d.EMPTY_POST_ID]});const{posts:c,allPosts:p}=(e=>(0,i.useSelect)(t=>{const{getEntityRecords:s}=t(l.store);return{posts:e.length?s("postType","post",{include:e,per_page:-1}):[],allPosts:s("postType","post",{per_page:-1,orderby:"title",order:"asc"})||[]}},[e]))(s),{addNewPostSelector:_,removePostSelector:u,updatePostSelection:P}=((e,t)=>({addNewPostSelector:()=>{t({selectedPosts:[...e,d.EMPTY_POST_ID]})},removePostSelector:s=>{const o=[...e];o.splice(s,1),t({selectedPosts:o})},updatePostSelection:(s,o)=>{const l=[...e];l[o]=parseInt(s),l.length>1?t({selectedPosts:l.filter(e=>e!==d.EMPTY_POST_ID)}):t({selectedPosts:l})}}))(s,t);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n,{title:o,emoji:r,selectedPosts:s,allPosts:p,onUpdatePost:P,onRemovePost:u,onAddPost:_,setAttributes:t}),(0,a.jsx)(h,{title:o,emoji:r,posts:c})]})},save:()=>null})}},s={};function o(e){var l=s[e];if(void 0!==l)return l.exports;var i=s[e]={exports:{}};return t[e](i,i.exports,o),i.exports}o.m=t,e=[],o.O=(t,s,l,i)=>{if(!s){var r=1/0;for(n=0;n<e.length;n++){for(var[s,l,i]=e[n],a=!0,d=0;d<s.length;d++)(!1&i||r>=i)&&Object.keys(o.O).every(e=>o.O[e](s[d]))?s.splice(d--,1):(a=!1,i<r&&(r=i));if(a){e.splice(n--,1);var c=l();void 0!==c&&(t=c)}}return t}i=i||0;for(var n=e.length;n>0&&e[n-1][2]>i;n--)e[n]=e[n-1];e[n]=[s,l,i]},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={641:0,709:0};o.O.j=t=>0===e[t];var t=(t,s)=>{var l,i,[r,a,d]=s,c=0;if(r.some(t=>0!==e[t])){for(l in a)o.o(a,l)&&(o.m[l]=a[l]);if(d)var n=d(o)}for(t&&t(s);c<r.length;c++)i=r[c],o.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return o.O(n)},s=globalThis.webpackChunktwentytwentyfive_child_blocks=globalThis.webpackChunktwentytwentyfive_child_blocks||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})();var l=o.O(void 0,[709],()=>o(461));l=o.O(l)})();