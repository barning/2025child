(()=>{"use strict";var e,t={369:()=>{const e=window.wp.i18n,t=window.wp.htmlEntities,s=window.wp.blocks,o=window.wp.blockEditor,l=window.wp.components,i=window.wp.coreData,r=window.wp.data,a=JSON.parse('{"UU":"child/popular-posts"}'),d=window.ReactJSXRuntime,n={TITLE:(0,e.__)("Some Favorites To Get You Started","child"),EMOJI:"âœ¨",EMPTY_POST_ID:0},c={selectorRow:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"10px"},removeButton:e=>({marginTop:e?"0":"20px"}),addButton:{marginTop:"10px"}},p=({title:t,emoji:s,selectedPosts:i,allPosts:r,onUpdatePost:a,onRemovePost:n,onAddPost:c,setAttributes:p})=>(0,d.jsx)(o.InspectorControls,{children:(0,d.jsxs)(l.PanelBody,{title:(0,e.__)("Popular Posts Settings","child"),children:[(0,d.jsx)(l.TextControl,{label:(0,e.__)("Title","child"),value:t,onChange:e=>p({title:e})}),(0,d.jsx)(l.TextControl,{label:(0,e.__)("Emoji","child"),value:s,onChange:e=>p({emoji:e})}),(0,d.jsx)(h,{selectedPosts:i,allPosts:r,onUpdatePost:a,onRemovePost:n,onAddPost:c})]})}),h=({selectedPosts:s,allPosts:o,onUpdatePost:i,onRemovePost:r,onAddPost:a})=>(0,d.jsxs)("div",{className:"child-post-selector",children:[s.map((s,a)=>(0,d.jsxs)("div",{className:"child-post-selector__row",style:c.selectorRow,children:[(0,d.jsx)(l.ComboboxControl,{label:(0,e.__)("Select or Search Post","child"),value:s||"",options:o.map(e=>({label:(0,t.decodeEntities)(e.title.rendered),value:e.id.toString()})),onFilterValueChange:()=>{},onChange:e=>i(e,a),allowReset:!1}),a>0&&(0,d.jsx)(l.Button,{onClick:()=>r(a),style:c.removeButton(0===a),isSmall:!0,isDestructive:!0,icon:"trash",label:(0,e.__)("Remove this post","child"),tooltipPosition:"top"})]},a)),(0,d.jsxs)(l.Button,{onClick:a,variant:"secondary",className:"child-post-selector__add",style:c.addButton,isSmall:!0,children:["+ ",(0,e.__)("Add another post","child")]})]}),u=({title:s,emoji:l,posts:i})=>(0,d.jsxs)("div",{...(0,o.useBlockProps)({className:"child-popular-card"}),children:[(0,d.jsxs)("div",{className:"child-popular-card__header",children:[(0,d.jsx)("div",{className:"child-popular-card__emoji","aria-hidden":"true",children:l}),(0,d.jsx)("h3",{className:"child-popular-card__title",children:s})]}),(0,d.jsx)("ul",{className:"child-popular-card__list",children:i?.length?i.map(e=>(0,d.jsx)("li",{className:"child-popular-card__item",children:(0,d.jsx)("a",{href:"#",onClick:e=>e.preventDefault(),className:"child-popular-card__link",children:(0,t.decodeEntities)(e.title.rendered)})},e.id)):(0,d.jsx)("li",{className:"child-popular-card__item",children:(0,d.jsx)("span",{className:"child-popular-card__link child-popular-card__link--placeholder",children:(0,e.__)("Please select some posts","child")})})})]});(0,s.registerBlockType)(a.UU,{edit:function({attributes:e,setAttributes:t}){const{selectedPosts:s=[n.EMPTY_POST_ID],title:o=n.TITLE,emoji:l=n.EMOJI}=e;e.selectedPosts?.length||t({selectedPosts:[n.EMPTY_POST_ID]});const{posts:a,allPosts:c}=(e=>(0,r.useSelect)(t=>{const{getEntityRecords:s}=t(i.store);return{posts:e.length?s("postType","post",{include:e,per_page:-1}):[],allPosts:s("postType","post",{per_page:-1,orderby:"title",order:"asc"})||[]}},[e]))(s),{addNewPostSelector:h,removePostSelector:_,updatePostSelection:P}=((e,t)=>({addNewPostSelector:()=>{t({selectedPosts:[...e,n.EMPTY_POST_ID]})},removePostSelector:s=>{const o=[...e];o.splice(s,1),t({selectedPosts:o})},updatePostSelection:(s,o)=>{const l=[...e];l[o]=parseInt(s),l.length>1?t({selectedPosts:l.filter(e=>e!==n.EMPTY_POST_ID)}):t({selectedPosts:l})}}))(s,t);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(p,{title:o,emoji:l,selectedPosts:s,allPosts:c,onUpdatePost:P,onRemovePost:_,onAddPost:h,setAttributes:t}),(0,d.jsx)(u,{title:o,emoji:l,posts:a})]})},save:()=>null})}},s={};function o(e){var l=s[e];if(void 0!==l)return l.exports;var i=s[e]={exports:{}};return t[e](i,i.exports,o),i.exports}o.m=t,e=[],o.O=(t,s,l,i)=>{if(!s){var r=1/0;for(c=0;c<e.length;c++){for(var[s,l,i]=e[c],a=!0,d=0;d<s.length;d++)(!1&i||r>=i)&&Object.keys(o.O).every(e=>o.O[e](s[d]))?s.splice(d--,1):(a=!1,i<r&&(r=i));if(a){e.splice(c--,1);var n=l();void 0!==n&&(t=n)}}return t}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[s,l,i]},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={641:0,709:0};o.O.j=t=>0===e[t];var t=(t,s)=>{var l,i,[r,a,d]=s,n=0;if(r.some(t=>0!==e[t])){for(l in a)o.o(a,l)&&(o.m[l]=a[l]);if(d)var c=d(o)}for(t&&t(s);n<r.length;n++)i=r[n],o.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return o.O(c)},s=globalThis.webpackChunktwentytwentyfive_child_blocks=globalThis.webpackChunktwentytwentyfive_child_blocks||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})();var l=o.O(void 0,[709],()=>o(369));l=o.O(l)})();